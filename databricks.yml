# Databricks Asset Bundle configuration for UC Description Generator
# Deploy with: databricks bundle deploy

bundle:
  name: uc-description-generator

targets:
  # Development environment
  dev:
    mode: development
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
      profile: e2-demo-field-eng

    resources:
      apps:
        uc_description_generator_app:
          name: uc-description-generator
          description: "UC Description Generator - Development"
          source_code_path: .

  # Production environment
  prod:
    mode: production
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
      profile: e2-demo-field-eng

    resources:
      apps:
        uc_description_generator_app:
          name: uc-description-generator-prod
          description: "UC Description Generator - Production"
          source_code_path: .

variables:
  warehouse_id:
    description: "SQL Warehouse ID for executing queries"
    default: ""

  target_catalog:
    description: "Default catalog for documentation (can be changed in UI)"
    default: "main"

  governance_schema:
    description: "Schema for governance tracking table"
    default: "governance"

  model_endpoint:
    description: "Foundation Model API endpoint"
    default: "databricks-meta-llama-3-1-70b-instruct"

  flask_secret_key:
    description: "Flask session secret key"
    default: "change-me-in-production"
